(function(e){function t(t){for(var n,r,i=t[0],c=t[1],l=t[2],u=0,d=[];u<i.length;u++)r=i[u],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&d.push(o[r][0]),o[r]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);h&&h(t);while(d.length)d.shift()();return s.push.apply(s,l||[]),a()}function a(){for(var e,t=0;t<s.length;t++){for(var a=s[t],n=!0,r=1;r<a.length;r++){var i=a[r];0!==o[i]&&(n=!1)}n&&(s.splice(t--,1),e=c(c.s=a[0]))}return e}var n={},r={app:0},o={app:0},s=[];function i(e){return c.p+"js/"+({about:"about"}[e]||e)+"."+{about:"8eb86758","chunk-2d0b3289":"b455cacd","chunk-2d0b37ff":"edb0122e","chunk-2d0d619f":"71ea2d0a","chunk-2d0d6d35":"80b48101","chunk-2d2086b7":"f8431d4f","chunk-41ae73e4":"aec7a9af","chunk-567b5464":"f34712e8","chunk-d457d5e8":"c8a50db7","chunk-f4207d7e":"c3681f91"}[e]+".js"}function c(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,c),a.l=!0,a.exports}c.e=function(e){var t=[],a={about:1,"chunk-41ae73e4":1,"chunk-567b5464":1,"chunk-f4207d7e":1};r[e]?t.push(r[e]):0!==r[e]&&a[e]&&t.push(r[e]=new Promise((function(t,a){for(var n="css/"+({about:"about"}[e]||e)+"."+{about:"cab5b227","chunk-2d0b3289":"31d6cfe0","chunk-2d0b37ff":"31d6cfe0","chunk-2d0d619f":"31d6cfe0","chunk-2d0d6d35":"31d6cfe0","chunk-2d2086b7":"31d6cfe0","chunk-41ae73e4":"5cf04f3c","chunk-567b5464":"5cf04f3c","chunk-d457d5e8":"31d6cfe0","chunk-f4207d7e":"1aa1d600"}[e]+".css",o=c.p+n,s=document.getElementsByTagName("link"),i=0;i<s.length;i++){var l=s[i],u=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(u===n||u===o))return t()}var d=document.getElementsByTagName("style");for(i=0;i<d.length;i++){l=d[i],u=l.getAttribute("data-href");if(u===n||u===o)return t()}var h=document.createElement("link");h.rel="stylesheet",h.type="text/css",h.onload=t,h.onerror=function(t){var n=t&&t.target&&t.target.src||o,s=new Error("Loading CSS chunk "+e+" failed.\n("+n+")");s.code="CSS_CHUNK_LOAD_FAILED",s.request=n,delete r[e],h.parentNode.removeChild(h),a(s)},h.href=o;var p=document.getElementsByTagName("head")[0];p.appendChild(h)})).then((function(){r[e]=0})));var n=o[e];if(0!==n)if(n)t.push(n[2]);else{var s=new Promise((function(t,a){n=o[e]=[t,a]}));t.push(n[2]=s);var l,u=document.createElement("script");u.charset="utf-8",u.timeout=120,c.nc&&u.setAttribute("nonce",c.nc),u.src=i(e);var d=new Error;l=function(t){u.onerror=u.onload=null,clearTimeout(h);var a=o[e];if(0!==a){if(a){var n=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+n+": "+r+")",d.name="ChunkLoadError",d.type=n,d.request=r,a[1](d)}o[e]=void 0}};var h=setTimeout((function(){l({type:"timeout",target:u})}),12e4);u.onerror=u.onload=l,document.head.appendChild(u)}return Promise.all(t)},c.m=e,c.c=n,c.d=function(e,t,a){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(c.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)c.d(a,n,function(t){return e[t]}.bind(null,n));return a},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/",c.oe=function(e){throw console.error(e),e};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],u=l.push.bind(l);l.push=t,l=l.slice();for(var d=0;d<l.length;d++)t(l[d]);var h=u;s.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[this.$route.meta.layout?a(e.currentTabComponent,{tag:"component"}):e._e()],1)},o=[],s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"flex h-screen bg-gray-50 dark:bg-gray-900",class:{"overflow-hidden":e.isSideMenuOpen}},[a("aside",{staticClass:"z-20 hidden w-64 overflow-y-auto border-r bg-white dark:bg-gray-800 md:block flex-shrink-0"},[a("div",{staticClass:"py-4 text-gray-500 h-full dark:text-gray-400"},[a("router-link",{staticClass:"ml-6 text-lg font-bold text-gray-800 dark:text-gray-200",attrs:{to:"/"}},[e._v(" Logo ")]),a("div",{staticClass:"flex px-6 mt-4 items-center text-sm"},[a("div",{staticClass:"relative flex items-center justify-center w-8 h-8 mr-3 rounded-full shadow bg-indigo-300"},[a("span",{staticClass:"font-bold text-lg text-white "},[e._v(e._s(e.name?e.name[0].toUpperCase():"A"))])]),a("div",[a("p",{staticClass:"font-semibold text-gray-800"},[e._v(e._s(e.name))]),a("p",{staticClass:"text-xs text-gray-600 dark:text-gray-400"},[e._v(" Тариф до 12.02.2021 ")])])]),a("ul",{staticClass:"mt-6 border-b border-t"},[a("li",[a("router-link",{staticClass:"inline-block w-full relative px-6 py-3",attrs:{to:"/dashboard","active-class":"border-r-4 border-purple-600 text-gray-800"}},[a("span",{staticClass:"inline-flex items-center w-full text-sm font-semibold transition-colors duration-300 hover:text-gray-800 dark:hover:text-gray-200"},[a("svg",{staticClass:"w-5 h-5",attrs:{"aria-hidden":"true",fill:"none","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",viewBox:"0 0 24 24",stroke:"currentColor"}},[a("path",{attrs:{d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"}})]),a("span",{staticClass:"ml-4"},[e._v("Страницы")])])])],1),a("li",[a("router-link",{staticClass:"inline-block w-full relative px-6 py-3",attrs:{to:"/domains",exact:"","active-class":"border-r-4 border-purple-600 text-gray-800"}},[a("span",{staticClass:"inline-flex items-center w-full text-sm font-semibold transition-colors duration-300 hover:text-gray-800 dark:hover:text-gray-200"},[a("svg",{staticClass:"w-5 h-5",attrs:{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[a("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9"}})]),a("span",{staticClass:"ml-4"},[e._v("Домены")])])])],1),a("li",[a("router-link",{staticClass:"inline-block w-full relative px-6 py-3",attrs:{to:"/settings",exact:"","active-class":"border-r-4 border-purple-600 text-gray-800"}},[a("span",{staticClass:"inline-flex items-center w-full text-sm font-semibold transition-colors duration-300 hover:text-gray-800 dark:hover:text-gray-200"},[a("svg",{staticClass:"w-5 h-5",attrs:{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[a("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}}),a("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}})]),a("span",{staticClass:"ml-4"},[e._v("Настройки")])])])],1)]),a("button",{staticClass:"inline-block fixed bottom-0 w-64 px-6 py-3",on:{click:function(t){return t.preventDefault(),e.logout(t)}}},[a("span",{staticClass:"inline-flex items-center w-full text-sm font-semibold transition-colors duration-300 hover:text-gray-800 dark:hover:text-gray-200"},[a("svg",{staticClass:"w-5 h-5",attrs:{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[a("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"}})]),a("span",{staticClass:"ml-2"},[e._v("Выход")])])])],1)]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.isSideMenuOpen,expression:"isSideMenuOpen"}],staticClass:"fixed inset-0 z-10 flex items-end bg-black bg-opacity-50 sm:items-center sm:justify-center",attrs:{"x-transition:enter":"transition ease-in-out duration-150","x-transition:enter-start":"opacity-0","x-transition:enter-end":"opacity-100","x-transition:leave":"transition ease-in-out duration-150","x-transition:leave-start":"opacity-100","x-transition:leave-end":"opacity-0"},on:{click:e.closeSideMenu}}),a("aside",{directives:[{name:"show",rawName:"v-show",value:e.isSideMenuOpen,expression:"isSideMenuOpen"}],staticClass:"fixed inset-y-0 z-20 flex-shrink-0 w-64 mt-16 overflow-y-auto bg-white dark:bg-gray-800 md:hidden",attrs:{"x-transition:enter":"transition ease-in-out duration-150","x-transition:enter-start":"opacity-0 transform -translate-x-20","x-transition:enter-end":"opacity-100","x-transition:leave":"transition ease-in-out duration-150","x-transition:leave-start":"opacity-100","x-transition:leave-end":"opacity-0 transform -translate-x-20"}},[a("div",{staticClass:"py-4 text-gray-500 dark:text-gray-400"},[a("router-link",{staticClass:"ml-6 text-lg font-bold text-gray-800 dark:text-gray-200",attrs:{to:"/"}},[e._v(" Logo ")]),a("ul",[a("li",[a("router-link",{staticClass:"inline-block w-full relative px-6 py-3",attrs:{to:"/",exact:"","active-class":"border-r-4 border-purple-600 text-gray-800"}},[a("span",{staticClass:"inline-flex items-center w-full text-sm font-semibold transition-colors duration-300 hover:text-gray-800 dark:hover:text-gray-200"},[a("svg",{staticClass:"w-5 h-5",attrs:{"aria-hidden":"true",fill:"none","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",viewBox:"0 0 24 24",stroke:"currentColor"}},[a("path",{attrs:{d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"}})]),a("span",{staticClass:"ml-4"},[e._v("Страницы")])])])],1),a("li",[a("router-link",{staticClass:"inline-block w-full relative px-6 py-3",attrs:{to:"/nas",exact:"","active-class":"border-r-4 border-purple-600 text-gray-800"}},[a("span",{staticClass:"inline-flex items-center w-full text-sm font-semibold transition-colors duration-300 hover:text-gray-800 dark:hover:text-gray-200"},[a("svg",{staticClass:"w-5 h-5",attrs:{"aria-hidden":"true",fill:"none","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",viewBox:"0 0 24 24",stroke:"currentColor"}},[a("path",{attrs:{d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"}})]),a("span",{staticClass:"ml-4"},[e._v("Настройки")])])])],1)]),e._m(0),a("button",{staticClass:"inline-block fixed bottom-0 w-64 px-6 py-3",on:{click:function(t){return t.preventDefault(),e.logout(t)}}},[a("span",{staticClass:"inline-flex items-center w-full text-sm font-semibold transition-colors duration-300 hover:text-gray-800 dark:hover:text-gray-200"},[a("svg",{staticClass:"w-5 h-5",attrs:{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[a("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"}})]),a("span",{staticClass:"ml-2"},[e._v("Выход")])])])],1)]),a("div",{staticClass:"flex flex-col flex-1 w-full"},[a("header",{staticClass:"z-10 py-4 bg-white shadow-sm md:hidden dark:bg-gray-800"},[a("div",{staticClass:"container flex items-center justify-between h-full px-6 mx-auto text-purple-600 dark:text-purple-300"},[a("button",{staticClass:"p-1 mr-5 -ml-1 rounded-md md:hidden focus:outline-none focus:shadow-outline-purple",attrs:{"aria-label":"Menu"},on:{click:e.toggleSideMenu}},[a("svg",{staticClass:"w-6 h-6",attrs:{"aria-hidden":"true",fill:"currentColor",viewBox:"0 0 20 20"}},[a("path",{attrs:{"fill-rule":"evenodd",d:"M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z","clip-rule":"evenodd"}})])])])]),a("main",{staticClass:"h-full overflow-y-auto"},[a("div",{staticClass:"container px-6 md:py-16 py-10 mx-auto grid"},[a("router-view"),a("vue-progress-bar")],1)])])])},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"px-6 my-6"},[a("button",{staticClass:"flex items-center justify-between px-4 py-2 text-sm font-medium leading-5 text-white transition-colors duration-150 bg-purple-600 border border-transparent rounded-lg active:bg-purple-600 hover:bg-purple-700 focus:outline-none focus:shadow-outline-purple"},[e._v(" Create account "),a("span",{staticClass:"ml-2",attrs:{"aria-hidden":"true"}},[e._v("+")])])])}],c=a("5530"),l=a("2f62"),u={name:"DashboardLayout",data:function(){return{isModalOpen:!1,isSideMenuOpen:!1,isProfileMenuOpen:!1,isPagesMenuOpen:!1,isNotificationsMenuOpen:!1,dark:!1,trapCleanup:null}},computed:Object(c["a"])({},Object(l["c"])(["name"])),methods:Object(c["a"])(Object(c["a"])({},Object(l["b"])(["destroyToken"])),{},{logout:function(){var e=this;this.destroyToken().then((function(){e.$router.push({name:"Login"})}))},openModal:function(){this.isModalOpen=!0},closeModal:function(){this.isModalOpen=!1},toggleTheme:function(){this.dark=!this.dark},toggleSideMenu:function(){this.isSideMenuOpen=!this.isSideMenuOpen},closeSideMenu:function(){this.isSideMenuOpen=!1},toggleProfileMenu:function(){this.isProfileMenuOpen=!this.isProfileMenuOpen},closeProfileMenu:function(){this.isProfileMenuOpen=!1},togglePagesMenu:function(){this.isPagesMenuOpen=!this.isPagesMenuOpen},toggleNotificationsMenu:function(){this.isNotificationsMenuOpen=!this.isNotificationsMenuOpen}}),mounted:function(){this.$Progress.finish()},created:function(){var e=this;this.$Progress.start(),this.$router.beforeEach((function(t,a,n){e.$Progress.start(),n()})),this.$router.afterEach((function(){e.$Progress.finish()}))}},d=u,h=a("2877"),p=Object(h["a"])(d,s,i,!1,null,null,null),m=p.exports,f=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"flex items-center min-h-screen p-6 bg-gray-50 dark:bg-gray-900"},[a("div",{staticClass:"flex-1 h-full max-w-4xl mx-auto overflow-hidden bg-white rounded-lg shadow-xl dark:bg-gray-800"},[a("div",{staticClass:"flex flex-col overflow-y-auto md:flex-row"},[e._m(0),a("div",{staticClass:"flex items-center justify-center p-6 sm:p-12 md:w-1/2"},[a("router-view"),a("vue-progress-bar")],1)])])])},g=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"h-32 md:h-auto md:w-1/2"},[a("img",{staticClass:"object-cover w-full h-full dark:hidden",attrs:{"aria-hidden":"true",alt:"Office"}}),a("img",{staticClass:"hidden object-cover w-full h-full dark:block",attrs:{"aria-hidden":"true",alt:"Office"}})])}],v={name:"LoginLayout",mounted:function(){this.$Progress.finish()},created:function(){var e=this;this.$Progress.start(),this.$router.beforeEach((function(t,a,n){e.$Progress.start(),n()})),this.$router.afterEach((function(){e.$Progress.finish()}))}},b=v,k=Object(h["a"])(b,f,g,!1,null,null,null),x=k.exports,y=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"flex flex-col\titems-center min-h-screen md:p-6 md:bg-gray-50"},[a("router-view"),a("vue-progress-bar")],1)},w=[],_={name:"UserLayout",mounted:function(){this.$Progress.finish()},created:function(){var e=this;this.$Progress.start(),this.$router.beforeEach((function(t,a,n){e.$Progress.start(),n()})),this.$router.afterEach((function(){e.$Progress.finish()}))}},C=_,P=Object(h["a"])(C,y,w,!1,null,null,null),S=P.exports,O={name:"App",components:{DashboardLayout:m,LoginLayout:x,UserLayout:S},computed:{currentTabComponent:function(){return(this.$route.meta.layout||"dashboard")+"-layout"}},methods:{}},A=O,j=Object(h["a"])(A,r,o,!1,null,null,null),M=j.exports,I=(a("d3b7"),a("3ca3"),a("ddb0"),a("8c4f"));n["a"].use(I["a"]);var T=[{path:"/",redirect:{name:"Home"}},{path:"/dashboard",name:"Home",meta:{layout:"dashboard",requiresAuth:!0},component:function(){return a.e("about").then(a.bind(null,"bb51"))}},{path:"/login",name:"Login",meta:{layout:"login",requiresVisitor:!0},component:function(){return a.e("chunk-2d2086b7").then(a.bind(null,"a55b"))}},{path:"/register",name:"Register",meta:{layout:"login",requiresVisitor:!0},component:function(){return a.e("chunk-2d0d6d35").then(a.bind(null,"73cf"))}},{path:"/dashboard/create",name:"CreatePage",meta:{layout:"dashboard",requiresAuth:!0},component:function(){return a.e("chunk-567b5464").then(a.bind(null,"540a"))}},{path:"/dashboard/:url",name:"PageEdit",meta:{layout:"dashboard",requiresAuth:!0},component:function(){return a.e("chunk-41ae73e4").then(a.bind(null,"259f"))}},{path:"/dashboard/:url/statistics",name:"PageStatistics",meta:{layout:"dashboard",requiresAuth:!0},component:function(){return a.e("chunk-d457d5e8").then(a.bind(null,"0b1c"))}},{path:"/settings",name:"Settings",meta:{layout:"dashboard",requiresAuth:!0},component:function(){return a.e("chunk-2d0b3289").then(a.bind(null,"26d3"))}},{path:"/domains",name:"Domains",meta:{layout:"dashboard",requiresAuth:!0},component:function(){return a.e("chunk-f4207d7e").then(a.bind(null,"fe90"))}},{path:"/templates",name:"Templates",meta:{layout:"dashboard",requiresAuth:!0},component:function(){return a.e("chunk-2d0d619f").then(a.bind(null,"70b2"))}},{path:"*",meta:{layout:"dashboard",requiresAuth:!0},component:function(){return a.e("chunk-2d0b37ff").then(a.bind(null,"2946"))}}],E=new I["a"]({mode:"history",base:"/",routes:T}),$=E,N=a("1da1"),R=(a("96cf"),a("99af"),{state:{pages:JSON.parse(localStorage.getItem("pages_arr"))||null},mutations:{updatePageAll:function(e,t){e.pages=t},addPage:function(e,t){e.pages.unshift(t)}},actions:{API_GET_PAGES:function(e,t){var a=this;return Object(N["a"])(regeneratorRuntime.mark((function n(){var r,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(n.prev=0,r="",!t){n.next=8;break}return n.next=5,fetch("".concat(a.state.urlAPI,"/api/pages"),{headers:{Authorization:"Bearer "+localStorage.getItem("access_token")}});case 5:r=n.sent,n.next=11;break;case 8:return n.next=10,fetch("".concat(a.state.urlAPI,"/api/pages"),{headers:{Authorization:"Bearer "+localStorage.getItem("access_token")}});case 10:r=n.sent;case 11:return n.next=13,r.json();case 13:o=n.sent.data,o&&(localStorage.setItem("pages_arr",JSON.stringify(o)),e.commit("updatePageAll",o)),n.next=20;break;case 17:n.prev=17,n.t0=n["catch"](0),alert("Данные с сервера не получены");case 20:case"end":return n.stop()}}),n,null,[[0,17]])})))()},API_ADD_PAGE:function(e,t){var a=this;return Object(N["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,r=JSON.parse(t.get("data")),n.next=4,fetch("".concat(a.state.urlAPI,"/api/pages"),{method:"POST",headers:{Accept:"application/json",Authorization:"Bearer "+localStorage.getItem("access_token")},body:t}).then((function(){return e.commit("addPage",r)}));case 4:n.next=9;break;case 6:n.prev=6,n.t0=n["catch"](0),alert(n.t0,"Андрей, исправь");case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))()},API_UPDATE_PAGE:function(e,t){var a=this;return Object(N["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,r=JSON.parse(t.get("data")),n.next=4,fetch("".concat(a.state.urlAPI,"/api/pages/").concat(r.id),{method:"POST",headers:{Authorization:"Bearer "+localStorage.getItem("access_token")},body:t}).then((function(){return e.dispatch("API_GET_PAGES")}));case 4:n.next=9;break;case 6:n.prev=6,n.t0=n["catch"](0),alert(n.t0,"Андрей, исправь");case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))()},API_DELETE_PAGE:function(e,t){var a=this;return Object(N["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,fetch("".concat(a.state.urlAPI,"/api/pages/").concat(t),{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("access_token")}}).then((function(){return e.dispatch("API_GET_PAGES")}));case 3:n.next=8;break;case 5:n.prev=5,n.t0=n["catch"](0),alert(n.t0,"Андрей, исправь");case 8:case"end":return n.stop()}}),n,null,[[0,5]])})))()}},getters:{allPages:function(e){return e.pages}}}),L=(a("b0c0"),{state:{token:localStorage.getItem("access_token")||null,name:localStorage.getItem("name_user")||"Пупсик",email:localStorage.getItem("email_user")||null,created_at:localStorage.getItem("created_at_user")||null},mutations:{tokenUpdate:function(e,t){e.token=t},nameUpdate:function(e,t){e.name=t},emailUpdate:function(e,t){e.email=t},createdUpdate:function(e,t){e.created_at=t},destroyTokenAndName:function(e){e.token=null,e.name=null},destroyPages:function(){this.state.page.pages=null}},actions:{registerToken:function(e,t){var a=this;return Object(N["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,fetch("".concat(a.state.urlAPI,"/api/register"),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(t){var a=t.token;a&&(localStorage.setItem("access_token",a),e.commit("tokenUpdate",a));var n=t.name;n&&(localStorage.setItem("name_user",n),e.commit("nameUpdate",n));var r=t.email;r&&(localStorage.setItem("email_user",r),e.commit("emailUpdate",r));var o=t.created_at;o&&(localStorage.setItem("created_at_user",o),e.commit("createdUpdate",o))}));case 3:n.next=8;break;case 5:n.prev=5,n.t0=n["catch"](0),console.log("Регистрация не выполнена",n.t0);case 8:case"end":return n.stop()}}),n,null,[[0,5]])})))()},getToken:function(e,t){var a=this;return Object(N["a"])(regeneratorRuntime.mark((function n(){var r,o,s,i,c,l;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,fetch("".concat(a.state.urlAPI,"/api/login"),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(t)});case 3:return r=n.sent,n.next=6,r.json();case 6:return o=n.sent,s=o.token,s&&(localStorage.setItem("access_token",s),e.commit("tokenUpdate",s)),i=o.name,i&&(localStorage.setItem("name_user",i),e.commit("nameUpdate",i)),c=o.email,c&&(localStorage.setItem("email_user",c),e.commit("emailUpdate",c)),l=o.created_at,l&&(localStorage.setItem("created_at_user",l),e.commit("createdUpdate",l)),n.abrupt("return",r.ok);case 18:n.prev=18,n.t0=n["catch"](0),console.log("Вход не выполнен",n.t0);case 21:case"end":return n.stop()}}),n,null,[[0,18]])})))()},destroyToken:function(e){var t=this;return Object(N["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,fetch("".concat(t.state.urlAPI,"/api/logout"),{method:"POST",headers:{Accept:"application/json",Authorization:"Bearer "+localStorage.getItem("access_token")}}).then((function(){localStorage.removeItem("access_token"),localStorage.removeItem("name_user"),localStorage.removeItem("email_user"),localStorage.removeItem("created_at_user"),localStorage.removeItem("pages_arr"),e.commit("destroyTokenAndName"),e.commit("destroyPages")}),(function(e){alert("Вход не выполнен",e)}));case 2:case"end":return a.stop()}}),a)})))()},updateNameAndEmail:function(e,t){var a=this;return Object(N["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,fetch("".concat(a.state.urlAPI,"/api/user/id"),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer "+localStorage.getItem("access_token")},body:JSON.stringify(t)}).then((function(){var a=t.name;a&&(localStorage.setItem("name_user",a),e.commit("nameUpdate",a));var n=t.email;n&&(localStorage.setItem("email_user",n),e.commit("emailUpdate",n))}),(function(e){alert("Ошибка смены имени и пароля",e)}));case 2:case"end":return n.stop()}}),n)})))()},changePassword:function(e,t){var a=this;return Object(N["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,fetch("".concat(a.state.urlAPI,"/api/user/pas"),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer "+localStorage.getItem("access_token")},body:JSON.stringify(t)}).then((function(){e.dispatch("destroyToken")}),(function(e){alert("Ошибка смены пароля",e)}));case 2:case"end":return n.stop()}}),n)})))()}},getters:{token:function(e){return e.token},name:function(e){return e.name},email:function(e){return e.email},created_at:function(e){return e.created_at},loggedIn:function(e){return null!==e.token}}}),B={state:{templates:null},mutations:{updateTemplateAll:function(e,t){e.templates=t}},actions:{API_GET_TEMPLATES:function(e){var t=this;return Object(N["a"])(regeneratorRuntime.mark((function a(){var n,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,fetch("".concat(t.state.urlAPI,"/api/templates"),{method:"GET",headers:{Authorization:"Bearer "+localStorage.getItem("access_token")}});case 2:return n=a.sent,a.next=5,n.json();case 5:r=a.sent.data,r&&e.commit("updateTemplateAll",r);case 7:case"end":return a.stop()}}),a)})))()}},getters:{allTemplates:function(e){return e.templates}}};n["a"].use(l["a"]);var U=new l["a"].Store({state:{urlAPI:"https://api.client-turbine.ru"},mutations:{},actions:{},modules:{page:R,auth:L,template:B}}),z=(a("a2f0"),a("26b9")),H=a.n(z),q=a("c28b"),D=a.n(q),G={color:"#bd9bff",failedColor:"#874b4b",thickness:"5px",transition:{speed:"0.2s",opacity:"0.6s",termination:300},autoRevert:!0};n["a"].use(H.a,G),n["a"].use(D.a),n["a"].config.productionTip=!1,$.beforeEach((function(e,t,a){e.matched.some((function(e){return e.meta.requiresAuth}))?U.getters.loggedIn?a():a({name:"Login"}):e.matched.some((function(e){return e.meta.requiresVisitor}))&&U.getters.loggedIn?a({name:"Home"}):a()})),new n["a"]({router:$,store:U,render:function(e){return e(M)}}).$mount("#app")},a2f0:function(e,t,a){}});