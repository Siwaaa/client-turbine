(function(e){function t(t){for(var a,r,i=t[0],c=t[1],l=t[2],u=0,d=[];u<i.length;u++)r=i[u],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&d.push(o[r][0]),o[r]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);p&&p(t);while(d.length)d.shift()();return s.push.apply(s,l||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],a=!0,r=1;r<n.length;r++){var i=n[r];0!==o[i]&&(a=!1)}a&&(s.splice(t--,1),e=c(c.s=n[0]))}return e}var a={},r={app:0},o={app:0},s=[];function i(e){return c.p+"js/"+({about:"about"}[e]||e)+"."+{about:"b4cef753","chunk-14b4693e":"6ff28310","chunk-1787fab1":"34a80544","chunk-2d0b3289":"b455cacd","chunk-2d0c18fe":"ec94664f","chunk-2d0d619f":"71ea2d0a","chunk-2d0d6d35":"d812f78c","chunk-2d2086b7":"f8431d4f","chunk-58a61cb0":"fde789e1","chunk-7f0b9400":"8af52c6a","chunk-a76e6880":"df4976a9","chunk-f4207d7e":"c3681f91"}[e]+".js"}function c(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(e){var t=[],n={about:1,"chunk-14b4693e":1,"chunk-f4207d7e":1};r[e]?t.push(r[e]):0!==r[e]&&n[e]&&t.push(r[e]=new Promise((function(t,n){for(var a="css/"+({about:"about"}[e]||e)+"."+{about:"0d62a450","chunk-14b4693e":"9dbe8743","chunk-1787fab1":"31d6cfe0","chunk-2d0b3289":"31d6cfe0","chunk-2d0c18fe":"31d6cfe0","chunk-2d0d619f":"31d6cfe0","chunk-2d0d6d35":"31d6cfe0","chunk-2d2086b7":"31d6cfe0","chunk-58a61cb0":"31d6cfe0","chunk-7f0b9400":"31d6cfe0","chunk-a76e6880":"31d6cfe0","chunk-f4207d7e":"1aa1d600"}[e]+".css",o=c.p+a,s=document.getElementsByTagName("link"),i=0;i<s.length;i++){var l=s[i],u=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(u===a||u===o))return t()}var d=document.getElementsByTagName("style");for(i=0;i<d.length;i++){l=d[i],u=l.getAttribute("data-href");if(u===a||u===o)return t()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=t,p.onerror=function(t){var a=t&&t.target&&t.target.src||o,s=new Error("Loading CSS chunk "+e+" failed.\n("+a+")");s.code="CSS_CHUNK_LOAD_FAILED",s.request=a,delete r[e],p.parentNode.removeChild(p),n(s)},p.href=o;var h=document.getElementsByTagName("head")[0];h.appendChild(p)})).then((function(){r[e]=0})));var a=o[e];if(0!==a)if(a)t.push(a[2]);else{var s=new Promise((function(t,n){a=o[e]=[t,n]}));t.push(a[2]=s);var l,u=document.createElement("script");u.charset="utf-8",u.timeout=120,c.nc&&u.setAttribute("nonce",c.nc),u.src=i(e);var d=new Error;l=function(t){u.onerror=u.onload=null,clearTimeout(p);var n=o[e];if(0!==n){if(n){var a=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+a+": "+r+")",d.name="ChunkLoadError",d.type=a,d.request=r,n[1](d)}o[e]=void 0}};var p=setTimeout((function(){l({type:"timeout",target:u})}),12e4);u.onerror=u.onload=l,document.head.appendChild(u)}return Promise.all(t)},c.m=e,c.c=a,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)c.d(n,a,function(t){return e[t]}.bind(null,a));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/",c.oe=function(e){throw console.error(e),e};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],u=l.push.bind(l);l.push=t,l=l.slice();for(var d=0;d<l.length;d++)t(l[d]);var p=u;s.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[this.$route.meta.layout?n(e.currentTabComponent,{tag:"component"}):e._e()],1)},o=[],s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"flex h-screen bg-gray-50 dark:bg-gray-900",class:{"overflow-hidden":e.isSideMenuOpen}},[n("aside",{staticClass:"z-20 hidden w-64 overflow-y-auto border-r bg-white dark:bg-gray-800 md:block flex-shrink-0"},[n("div",{staticClass:"py-4 text-gray-500 h-full dark:text-gray-400"},[n("router-link",{staticClass:"ml-6 text-lg font-bold text-gray-800 dark:text-gray-200",attrs:{to:"/"}},[e._v(" Logo ")]),n("div",{staticClass:"flex px-6 mt-4 items-center text-sm"},[n("div",{staticClass:"relative flex items-center justify-center w-8 h-8 mr-3 rounded-full shadow bg-indigo-300"},[n("span",{staticClass:"font-bold text-lg text-white "},[e._v(e._s(e.name?e.name[0].toUpperCase():"A"))])]),n("div",[n("p",{staticClass:"font-semibold text-gray-800"},[e._v(e._s(e.name))]),n("p",{staticClass:"text-xs text-gray-600 dark:text-gray-400"},[e._v(" Тариф до 12.02.2021 ")])])]),n("ul",{staticClass:"mt-6 border-b border-t"},[n("li",[n("router-link",{staticClass:"inline-block w-full relative px-6 py-3",attrs:{to:"/dashboard","active-class":"border-r-4 border-purple-600 text-gray-800"}},[n("span",{staticClass:"inline-flex items-center w-full text-sm font-semibold transition-colors duration-300 hover:text-gray-800 dark:hover:text-gray-200"},[n("svg",{staticClass:"w-5 h-5",attrs:{"aria-hidden":"true",fill:"none","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",viewBox:"0 0 24 24",stroke:"currentColor"}},[n("path",{attrs:{d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"}})]),n("span",{staticClass:"ml-4"},[e._v("Страницы")])])])],1),n("li",[n("router-link",{staticClass:"inline-block w-full relative px-6 py-3",attrs:{to:"/domains",exact:"","active-class":"border-r-4 border-purple-600 text-gray-800"}},[n("span",{staticClass:"inline-flex items-center w-full text-sm font-semibold transition-colors duration-300 hover:text-gray-800 dark:hover:text-gray-200"},[n("svg",{staticClass:"w-5 h-5",attrs:{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[n("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9"}})]),n("span",{staticClass:"ml-4"},[e._v("Домены")])])])],1),n("li",[n("router-link",{staticClass:"inline-block w-full relative px-6 py-3",attrs:{to:"/settings",exact:"","active-class":"border-r-4 border-purple-600 text-gray-800"}},[n("span",{staticClass:"inline-flex items-center w-full text-sm font-semibold transition-colors duration-300 hover:text-gray-800 dark:hover:text-gray-200"},[n("svg",{staticClass:"w-5 h-5",attrs:{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[n("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}}),n("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}})]),n("span",{staticClass:"ml-4"},[e._v("Настройки")])])])],1)]),n("button",{staticClass:"inline-block fixed bottom-0 w-64 px-6 py-3",on:{click:function(t){return t.preventDefault(),e.logout(t)}}},[n("span",{staticClass:"inline-flex items-center w-full text-sm font-semibold transition-colors duration-300 hover:text-gray-800 dark:hover:text-gray-200"},[n("svg",{staticClass:"w-5 h-5",attrs:{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[n("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"}})]),n("span",{staticClass:"ml-2"},[e._v("Выход")])])])],1)]),n("div",{directives:[{name:"show",rawName:"v-show",value:e.isSideMenuOpen,expression:"isSideMenuOpen"}],staticClass:"fixed inset-0 z-10 flex items-end bg-black bg-opacity-50 sm:items-center sm:justify-center",attrs:{"x-transition:enter":"transition ease-in-out duration-150","x-transition:enter-start":"opacity-0","x-transition:enter-end":"opacity-100","x-transition:leave":"transition ease-in-out duration-150","x-transition:leave-start":"opacity-100","x-transition:leave-end":"opacity-0"},on:{click:e.closeSideMenu}}),n("aside",{directives:[{name:"show",rawName:"v-show",value:e.isSideMenuOpen,expression:"isSideMenuOpen"}],staticClass:"fixed inset-y-0 z-20 flex-shrink-0 w-64 mt-16 overflow-y-auto bg-white dark:bg-gray-800 md:hidden",attrs:{"x-transition:enter":"transition ease-in-out duration-150","x-transition:enter-start":"opacity-0 transform -translate-x-20","x-transition:enter-end":"opacity-100","x-transition:leave":"transition ease-in-out duration-150","x-transition:leave-start":"opacity-100","x-transition:leave-end":"opacity-0 transform -translate-x-20"}},[n("div",{staticClass:"py-4 text-gray-500 dark:text-gray-400"},[n("router-link",{staticClass:"ml-6 text-lg font-bold text-gray-800 dark:text-gray-200",attrs:{to:"/"}},[e._v(" Logo ")]),n("ul",[n("li",[n("router-link",{staticClass:"inline-block w-full relative px-6 py-3",attrs:{to:"/",exact:"","active-class":"border-r-4 border-purple-600 text-gray-800"}},[n("span",{staticClass:"inline-flex items-center w-full text-sm font-semibold transition-colors duration-300 hover:text-gray-800 dark:hover:text-gray-200"},[n("svg",{staticClass:"w-5 h-5",attrs:{"aria-hidden":"true",fill:"none","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",viewBox:"0 0 24 24",stroke:"currentColor"}},[n("path",{attrs:{d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"}})]),n("span",{staticClass:"ml-4"},[e._v("Страницы")])])])],1),n("li",[n("router-link",{staticClass:"inline-block w-full relative px-6 py-3",attrs:{to:"/nas",exact:"","active-class":"border-r-4 border-purple-600 text-gray-800"}},[n("span",{staticClass:"inline-flex items-center w-full text-sm font-semibold transition-colors duration-300 hover:text-gray-800 dark:hover:text-gray-200"},[n("svg",{staticClass:"w-5 h-5",attrs:{"aria-hidden":"true",fill:"none","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",viewBox:"0 0 24 24",stroke:"currentColor"}},[n("path",{attrs:{d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"}})]),n("span",{staticClass:"ml-4"},[e._v("Настройки")])])])],1)]),e._m(0),n("button",{staticClass:"inline-block fixed bottom-0 w-64 px-6 py-3",on:{click:function(t){return t.preventDefault(),e.logout(t)}}},[n("span",{staticClass:"inline-flex items-center w-full text-sm font-semibold transition-colors duration-300 hover:text-gray-800 dark:hover:text-gray-200"},[n("svg",{staticClass:"w-5 h-5",attrs:{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[n("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"}})]),n("span",{staticClass:"ml-2"},[e._v("Выход")])])])],1)]),n("div",{staticClass:"flex flex-col flex-1 w-full"},[n("header",{staticClass:"z-10 py-4 bg-white shadow-sm md:hidden dark:bg-gray-800"},[n("div",{staticClass:"container flex items-center justify-between h-full px-6 mx-auto text-purple-600 dark:text-purple-300"},[n("button",{staticClass:"p-1 mr-5 -ml-1 rounded-md md:hidden focus:outline-none focus:shadow-outline-purple",attrs:{"aria-label":"Menu"},on:{click:e.toggleSideMenu}},[n("svg",{staticClass:"w-6 h-6",attrs:{"aria-hidden":"true",fill:"currentColor",viewBox:"0 0 20 20"}},[n("path",{attrs:{"fill-rule":"evenodd",d:"M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z","clip-rule":"evenodd"}})])])])]),n("main",{staticClass:"h-full overflow-y-auto"},[n("div",{staticClass:"container px-6 md:py-16 py-10 mx-auto grid"},[n("router-view"),n("vue-progress-bar")],1)])])])},i=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"px-6 my-6"},[n("button",{staticClass:"flex items-center justify-between px-4 py-2 text-sm font-medium leading-5 text-white transition-colors duration-150 bg-purple-600 border border-transparent rounded-lg active:bg-purple-600 hover:bg-purple-700 focus:outline-none focus:shadow-outline-purple"},[e._v(" Create account "),n("span",{staticClass:"ml-2",attrs:{"aria-hidden":"true"}},[e._v("+")])])])}],c=n("5530"),l=n("2f62"),u={name:"DashboardLayout",data:function(){return{isModalOpen:!1,isSideMenuOpen:!1,isProfileMenuOpen:!1,isPagesMenuOpen:!1,isNotificationsMenuOpen:!1,dark:!1,trapCleanup:null}},computed:Object(c["a"])({},Object(l["c"])(["name"])),methods:Object(c["a"])(Object(c["a"])({},Object(l["b"])(["destroyToken"])),{},{logout:function(){var e=this;this.destroyToken().then((function(){e.$router.push({name:"Login"})}))},openModal:function(){this.isModalOpen=!0},closeModal:function(){this.isModalOpen=!1},toggleTheme:function(){this.dark=!this.dark},toggleSideMenu:function(){this.isSideMenuOpen=!this.isSideMenuOpen},closeSideMenu:function(){this.isSideMenuOpen=!1},toggleProfileMenu:function(){this.isProfileMenuOpen=!this.isProfileMenuOpen},closeProfileMenu:function(){this.isProfileMenuOpen=!1},togglePagesMenu:function(){this.isPagesMenuOpen=!this.isPagesMenuOpen},toggleNotificationsMenu:function(){this.isNotificationsMenuOpen=!this.isNotificationsMenuOpen}}),mounted:function(){this.$Progress.finish()},created:function(){var e=this;this.$Progress.start(),this.$router.beforeEach((function(t,n,a){e.$Progress.start(),a()})),this.$router.afterEach((function(){e.$Progress.finish()}))}},d=u,p=n("2877"),h=Object(p["a"])(d,s,i,!1,null,null,null),m=h.exports,f=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"flex items-center min-h-screen p-6 bg-gray-50 dark:bg-gray-900"},[n("div",{staticClass:"flex-1 h-full max-w-4xl mx-auto overflow-hidden bg-white rounded-lg shadow-xl dark:bg-gray-800"},[n("div",{staticClass:"flex flex-col overflow-y-auto md:flex-row"},[e._m(0),n("div",{staticClass:"flex items-center justify-center p-6 sm:p-12 md:w-1/2"},[n("router-view"),n("vue-progress-bar")],1)])])])},g=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"h-32 md:h-auto md:w-1/2"},[n("img",{staticClass:"object-cover w-full h-full dark:hidden",attrs:{"aria-hidden":"true",alt:"Office"}}),n("img",{staticClass:"hidden object-cover w-full h-full dark:block",attrs:{"aria-hidden":"true",alt:"Office"}})])}],b={name:"LoginLayout",mounted:function(){this.$Progress.finish()},created:function(){var e=this;this.$Progress.start(),this.$router.beforeEach((function(t,n,a){e.$Progress.start(),a()})),this.$router.afterEach((function(){e.$Progress.finish()}))}},v=b,k=Object(p["a"])(v,f,g,!1,null,null,null),x=k.exports,y=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"flex flex-col\titems-center min-h-screen md:p-6 md:bg-gray-50"},[n("router-view"),n("vue-progress-bar")],1)},w=[],_={name:"UserLayout",mounted:function(){this.$Progress.finish()},created:function(){var e=this;this.$Progress.start(),this.$router.beforeEach((function(t,n,a){e.$Progress.start(),a()})),this.$router.afterEach((function(){e.$Progress.finish()}))}},C=_,S=Object(p["a"])(C,y,w,!1,null,null,null),O=S.exports,P={name:"App",components:{DashboardLayout:m,LoginLayout:x,UserLayout:O},computed:{currentTabComponent:function(){return(this.$route.meta.layout||"dashboard")+"-layout"}},methods:{}},j=P,M=Object(p["a"])(j,r,o,!1,null,null,null),A=M.exports,T=(n("d3b7"),n("3ca3"),n("ddb0"),n("8c4f"));a["a"].use(T["a"]);var E=[{path:"/",redirect:{name:"Home"}},{path:"/dashboard",name:"Home",meta:{layout:"dashboard",requiresAuth:!0},component:function(){return n.e("about").then(n.bind(null,"aec6"))}},{path:"/login",name:"Login",meta:{layout:"login",requiresVisitor:!0},component:function(){return n.e("chunk-2d2086b7").then(n.bind(null,"a55b"))}},{path:"/register",name:"Register",meta:{layout:"login",requiresVisitor:!0},component:function(){return n.e("chunk-2d0d6d35").then(n.bind(null,"73cf"))}},{path:"/dashboard/create",name:"CreatePage",meta:{layout:"dashboard",requiresAuth:!0},component:function(){return n.e("chunk-7f0b9400").then(n.bind(null,"540a"))}},{path:"/dashboard/:url",name:"PageEdit",meta:{layout:"dashboard",requiresAuth:!0},component:function(){return n.e("chunk-a76e6880").then(n.bind(null,"259f"))}},{path:"/dashboard/:url/statistics",name:"PageStatistics",meta:{layout:"dashboard",requiresAuth:!0},component:function(){return n.e("chunk-58a61cb0").then(n.bind(null,"0b1c"))}},{path:"/settings",name:"Settings",meta:{layout:"dashboard",requiresAuth:!0},component:function(){return n.e("chunk-2d0b3289").then(n.bind(null,"26d3"))}},{path:"/domains",name:"Domains",meta:{layout:"dashboard",requiresAuth:!0},component:function(){return n.e("chunk-f4207d7e").then(n.bind(null,"fe90"))}},{path:"/templates",name:"Templates",meta:{layout:"dashboard",requiresAuth:!0},component:function(){return n.e("chunk-2d0d619f").then(n.bind(null,"70b2"))}},{path:"/q/id",name:"UserStart",meta:{layout:"user"},component:function(){return n.e("chunk-1787fab1").then(n.bind(null,"7a8d"))}},{path:"/q/id/checkout",name:"UserInst",meta:{layout:"user"},component:function(){return n.e("chunk-14b4693e").then(n.bind(null,"1d8e"))}},{path:"/q/id/good",name:"UserUspech",meta:{layout:"user"},component:function(){return n.e("chunk-2d0c18fe").then(n.bind(null,"4727"))}}],I=new T["a"]({mode:"history",base:"/",routes:E,scrollBehavior:function(){}}),$=I,U=n("1da1"),N=(n("96cf"),{state:{pages:JSON.parse(localStorage.getItem("pages_arr"))||null},mutations:{updatePageAll:function(e,t){e.pages=t},addPage:function(e,t){e.pages.unshift(t)}},actions:{API_GET_PAGES:function(e,t){return Object(U["a"])(regeneratorRuntime.mark((function n(){var a,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(n.prev=0,a="",!t){n.next=8;break}return n.next=5,fetch("http://127.0.0.1:8000/api/pages",{headers:{Authorization:"Bearer "+localStorage.getItem("access_token")}});case 5:a=n.sent,n.next=11;break;case 8:return n.next=10,fetch("http://127.0.0.1:8000/api/pages",{headers:{Authorization:"Bearer "+localStorage.getItem("access_token")}});case 10:a=n.sent;case 11:return n.next=13,a.json();case 13:r=n.sent.data,r&&(localStorage.setItem("pages_arr",JSON.stringify(r)),e.commit("updatePageAll",r)),n.next=20;break;case 17:n.prev=17,n.t0=n["catch"](0),alert("Данные с сервера не получены");case 20:case"end":return n.stop()}}),n,null,[[0,17]])})))()},API_ADD_PAGE:function(e,t){return Object(U["a"])(regeneratorRuntime.mark((function n(){var a,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,a=JSON.parse(t.get("data")),n.next=4,fetch("http://127.0.0.1:8000/api/pages",{method:"POST",headers:{Accept:"application/json",Authorization:"Bearer "+localStorage.getItem("access_token")},body:t});case 4:r=n.sent,console.log(r),e.commit("addPage",a),n.next=12;break;case 9:n.prev=9,n.t0=n["catch"](0),alert(n.t0,"Андрей, исправь");case 12:case"end":return n.stop()}}),n,null,[[0,9]])})))()},API_UPDATE_PAGE:function(e,t){return Object(U["a"])(regeneratorRuntime.mark((function n(){var a,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,a=JSON.parse(t.get("data")),n.next=4,fetch("http://127.0.0.1:8000/api/pages/".concat(a.id),{method:"POST",headers:{Authorization:"Bearer "+localStorage.getItem("access_token")},body:t});case 4:r=n.sent,console.log(r,"выполнение action"),e.dispatch("API_GET_PAGES"),n.next=12;break;case 9:n.prev=9,n.t0=n["catch"](0),alert(n.t0,"Андрей, исправь");case 12:case"end":return n.stop()}}),n,null,[[0,9]])})))()},API_DELETE_PAGE:function(e,t){return Object(U["a"])(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,fetch("http://127.0.0.1:8000/api/pages/".concat(t),{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("access_token")}});case 3:a=n.sent,console.log(a,"удаление"),e.dispatch("API_GET_PAGES"),n.next=11;break;case 8:n.prev=8,n.t0=n["catch"](0),alert(n.t0,"Андрей, исправь");case 11:case"end":return n.stop()}}),n,null,[[0,8]])})))()}},getters:{allPages:function(e){return e.pages},countPages:function(e){return e.pages.length}}}),R=(n("b0c0"),{state:{token:localStorage.getItem("access_token")||null,name:localStorage.getItem("name_user")||"Пупсик",email:localStorage.getItem("email_user")||null,created_at:localStorage.getItem("created_at_user")||null},mutations:{tokenUpdate:function(e,t){e.token=t},nameUpdate:function(e,t){e.name=t},emailUpdate:function(e,t){e.email=t},createdUpdate:function(e,t){e.created_at=t},destroyTokenAndName:function(e){e.token=null,e.name=null},destroyPages:function(){this.state.page.pages=null}},actions:{registerToken:function(e,t){return Object(U["a"])(regeneratorRuntime.mark((function n(){var a,r,o,s,i,c;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,fetch("http://127.0.0.1:8000/api/register",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(t)});case 3:return a=n.sent,n.next=6,a.json();case 6:return r=n.sent,o=r.token,o&&(localStorage.setItem("access_token",o),e.commit("tokenUpdate",o)),s=r.name,s&&(localStorage.setItem("name_user",s),e.commit("nameUpdate",s)),i=r.email,i&&(localStorage.setItem("email_user",i),e.commit("emailUpdate",i)),c=r.created_at,c&&(localStorage.setItem("created_at_user",c),e.commit("createdUpdate",c)),n.abrupt("return",a.ok);case 18:n.prev=18,n.t0=n["catch"](0),console.log("Регистрация не выполнена",n.t0);case 21:case"end":return n.stop()}}),n,null,[[0,18]])})))()},getToken:function(e,t){return Object(U["a"])(regeneratorRuntime.mark((function n(){var a,r,o,s,i,c;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,fetch("http://127.0.0.1:8000/api/login",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(t)});case 3:return a=n.sent,n.next=6,a.json();case 6:return r=n.sent,o=r.token,o&&(localStorage.setItem("access_token",o),e.commit("tokenUpdate",o)),s=r.name,s&&(localStorage.setItem("name_user",s),e.commit("nameUpdate",s)),i=r.email,i&&(localStorage.setItem("email_user",i),e.commit("emailUpdate",i)),c=r.created_at,c&&(localStorage.setItem("created_at_user",c),e.commit("createdUpdate",c)),n.abrupt("return",a.ok);case 18:n.prev=18,n.t0=n["catch"](0),console.log("Вход не выполнен",n.t0);case 21:case"end":return n.stop()}}),n,null,[[0,18]])})))()},destroyToken:function(e){return Object(U["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch("http://127.0.0.1:8000/api/logout",{method:"POST",headers:{Accept:"application/json",Authorization:"Bearer "+localStorage.getItem("access_token")}}).then((function(){localStorage.removeItem("access_token"),localStorage.removeItem("name_user"),localStorage.removeItem("email_user"),localStorage.removeItem("created_at_user"),localStorage.removeItem("pages_arr"),e.commit("destroyTokenAndName"),e.commit("destroyPages")}),(function(e){alert("Вход не выполнен",e)}));case 2:case"end":return t.stop()}}),t)})))()},updateNameAndEmail:function(e,t){return Object(U["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,fetch("http://127.0.0.1:8000/api/user/id",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer "+localStorage.getItem("access_token")},body:JSON.stringify(t)}).then((function(){var n=t.name;n&&(localStorage.setItem("name_user",n),e.commit("nameUpdate",n));var a=t.email;a&&(localStorage.setItem("email_user",a),e.commit("emailUpdate",a))}),(function(e){alert("Ошибка смены имени и пароля",e)}));case 2:case"end":return n.stop()}}),n)})))()},changePassword:function(e,t){return Object(U["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,fetch("http://127.0.0.1:8000/api/user/pas",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer "+localStorage.getItem("access_token")},body:JSON.stringify(t)}).then((function(){e.dispatch("destroyToken")}),(function(e){alert("Ошибка смены пароля",e)}));case 2:case"end":return n.stop()}}),n)})))()}},getters:{token:function(e){return e.token},name:function(e){return e.name},email:function(e){return e.email},created_at:function(e){return e.created_at},loggedIn:function(e){return null!==e.token}}}),B={state:{templates:null},mutations:{updateTemplateAll:function(e,t){e.templates=t}},actions:{API_GET_TEMPLATES:function(e){return Object(U["a"])(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch("http://127.0.0.1:8000/api/templates",{method:"GET",headers:{Authorization:"Bearer "+localStorage.getItem("access_token")}});case 2:return n=t.sent,t.next=5,n.json();case 5:a=t.sent.data,a&&e.commit("updateTemplateAll",a);case 7:case"end":return t.stop()}}),t)})))()}},getters:{allTemplates:function(e){return e.templates}}};a["a"].use(l["a"]);var L=new l["a"].Store({state:{},mutations:{},actions:{},modules:{page:N,auth:R,template:B}}),z=(n("a2f0"),n("26b9")),q=n.n(z),H=n("c28b"),D=n.n(H);a["a"].use(D.a);var G={color:"#bd9bff",failedColor:"#874b4b",thickness:"5px",transition:{speed:"0.2s",opacity:"0.6s",termination:300},autoRevert:!0};a["a"].use(q.a,G),a["a"].config.productionTip=!1,$.beforeEach((function(e,t,n){e.matched.some((function(e){return e.meta.requiresAuth}))?L.getters.loggedIn?n():n({name:"Login"}):e.matched.some((function(e){return e.meta.requiresVisitor}))&&L.getters.loggedIn?n({name:"Home"}):n()})),new a["a"]({router:$,store:L,render:function(e){return e(A)}}).$mount("#app")},a2f0:function(e,t,n){}});
//# sourceMappingURL=app.13137091.js.map